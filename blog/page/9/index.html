
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Seth Holloway</title>
  <meta name="author" content="Seth Holloway">

   
  <meta name="description" content="Polymathic, in theory.">
  
  <meta name="keywords" content="">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://sethholloway.com/blog/page/9">
  <link href="/favicon.png" rel="icon">
  <link href='https://fonts.googleapis.com/css?family=Quicksand:300,400' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'>
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Seth Holloway" type="application/atom+xml">
  <script src="/js/jquery.js"></script>
  <script src="/js/bootstrap-collapse.js"></script>
  <script src="/js/modernizr-2.0.js"></script>
  <script src="/js/octopress.js" type="text/javascript"></script>
  <script src="/js/application.js"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="https://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-7555904-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <div class="navbar navbar-inverse navbar-static-top">
  	<div class="navbar-inner">
  	  <div class="container">
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".navbar-responsive-collapse">
          <span class="fui-menu-24"></span>
        </a>
  	  	<div class="nav-collapse collapse navbar-responsive-collapse" style="height:0;">
  	      <ul class="nav">
    
        <li ><a href="/">Blog</a></li>
    
        <li ><a href="/blog/archives/">Archives</a></li>
    
        <li ><a href="/about/">About</a></li>
    
</ul>

<ul class="nav pull-right">
    
    <li><a href="http://github.com/smholloway" title="Github Profile"><i class="icon-github-sign social-navbar"></i></a></li>
    
    
    
    <li><a href="http://linkedin.com/in/sethholloway" title="Linkedin Profile"><i class="icon-linkedin-sign social-navbar"></i></a></li>
    
    
    <li><a href="http://twitter.com/sethholloway" title="Twitter Profile"><i class="icon-twitter-sign social-navbar"></i></a></li>
    
    
    

    
</ul>

  	    </div>
  	  </div>
  	</div>
  </div>
  <div class="container" id="main">
      <div class="row-fluid">
        <div id="content">
          <div class="jumbotron">
  <div class="container">
    
      Seth Holloway
    
    <h3 class="tagline">
      
        More joie de vivre than savoir-vivre.
      
    </h3>
  </div>
</div>


<div class="blog-index">
  
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span12 post-container">
      <h1 class="link"><a href="/a-note-to-spam-bots/">A note to spam bots</a></h1>
      <p>I have received a ton of spam comments recently! These comments are almost always nonsense with a specific link. I can only think of two reasons for posting a spam link in a comment:</p>

<ul>
<li>transferring google juice from the host site to the linked site (SEO)</li>
<li>hoping against hope that someone will read the nonsense and click your random, bogus link.</li>
</ul>


<p>Of the options, (1) was a viable strategy in 2006! Google nipped that in the bud because of the popularity of this technique. Now, SEO is stifled by a simple <code>rel=&ldquo;nofollow&rdquo;</code> tag, which my site automatically embeds in comment links. So stop spamming!</p>

<p>(2) above seems like a total waste of time. Sure, finding comments sections and posting a links is functionally free, but I&rsquo;d guess that only 1/100 sites allow spam comments and maybe 1/1,000 people would click on a random link. With that back-of-the-napkin math, you&rsquo;d need 100,000 comments to get one click! Even then, conversion rates of 5% are considered good, so you&rsquo;d need 2,000,000 comments to get one buyer. On top of that, at least half the sites with open commenting will have <a href="http://akismet.com/" title="Akismet">Akismet</a> or a similar spam-guard. What is your time, electricity, and bandwidth worth if you&rsquo;re betting on those odds? Certainly your time is better spent elsewhere. So stop spamming!</p>

<p>(I&rsquo;d have to investigate further, but I&rsquo;d guess bot-nets are being used to post comments at a very affordable rate. At worst, some script kiddies are learning computer science so they may get a nice job later.)</p>

<p>Am I missing something?</p>

      
      
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span12 post-container">
      <h1 class="link"><a href="/a-brief-javascript-overview/">A brief JavaScript overview</a></h1>
      <p>I presented <a href="https://docs.google.com/present/embed?id=df9bw4hb_115chv28jfg" title="A Brief Overview of JavaScript by Seth Holloway">a brief overview of JavaScript</a> at work last week. In only 30 minutes I was not able to cover a lot, so I tried to hit the high points. While the presentation was meant to combine with my speech, others may find it useful too.</p>

<iframe src="https://docs.google.com/present/embed?id=df9bw4hb_115chv28jfg" frameborder="0" width="410" height="342"></iframe>




      
      
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span12 post-container">
      <h1 class="link"><a href="/dijkstra-on-computer-science-education/">Dijkstra&#8217;s View of Computer Science Education</a></h1>
      <p><a title="Wikipedia: Dijkstra" href="http://en.wikipedia.org/wiki/Edsger_Dijkstra">Edsger Dijkstra</a>, one of the most influential figures in Computer Science and the most famous Computer Scientist to never own a computer, had very strong opinions on Computer Science education. He expressed his feelings in an essay titled &ldquo;The Cruelty of Really Teaching Computer Science.&#8221; You can read Dijkstra&rsquo;s original, hand-written note as <a title="Dijkstra's view on CS education" href="http://www.cs.utexas.edu/users/EWD/ewd10xx/EWD1036.PDF">PDF</a>, or the <a title="Dijkstra's view transcribed" href="http://www.cs.utexas.edu/users/EWD/transcriptions/EWD10xx/EWD1036.html">transcription</a>, or the Wikipedia <a title="Wikipedia: Dijkstra's view on CS education" href="http://en.wikipedia.org/wiki/The_Cruelty_of_Really_Teaching_Computer_Science">page</a>. The piece was also <a title="Slashdot: Dijkstra's view on CS education" href="http://news.slashdot.org/article.pl?sid=08%2F12%2F02%2F1410254">covered on Slashdot</a> with lots of nice comments. Here&rsquo;s an excerpt:</p>

<blockquote>Needless to say, this vision of what computing science is about is not universally applauded. On the contrary, it has met widespread &#8211;and sometimes even violent&#8211; opposition from all sorts of directions. I mention as examples

(0) the mathematical guild, which would rather continue to believe that the Dream of Leibniz is an unrealistic illusion

(1) the business community, which, having been sold to the idea that computers would make life easier, is mentally unprepared to accept that they only solve the easier problems at the price of creating much harder ones

(2) the subculture of the compulsive programmer, whose ethics prescribe that one silly idea and a month of frantic coding should suffice to make him a life-long millionaire

(3) computer engineering, which would rather continue to act as if it is all only a matter of higher bit rates and more flops per second

(4) the military, who are now totally absorbed in the business of using computers to mutate billion-dollar budgets into the illusion of automatic safety

(5) all soft sciences for which computing now acts as some sort of interdisciplinary haven

(6) the educational business that feels that, if it has to teach formal mathematics to CS students, it may as well close its schools.</blockquote>


<p>Between my time in industry and academia I&rsquo;ve participated in tens of discussions about CS education. You wouldn&rsquo;t catch me hand-writing a single-pass essay like Dijkstra, but I can agree with academic&rsquo;s long-term view that theory will allow students to understand and apply concepts throughout their career. I also understand the industry desire for real skills (like Java or C, for example) that would allow new employees to hit the ground running. This debate will continue, but I think the state of education is going to change very soon&ndash;particularly due to the <a title="Forbes - the Rise of Developeronomics" href="http://www.forbes.com/sites/venkateshrao/2011/12/05/the-rise-of-developeronomics/">rise of developeronomics</a>.</p>

<p>What do you think? Is CS education valuable? Who is doing it well? How could we improve? If schools are failing, how can students augment their curriculum?</p>

      
      
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span12 post-container">
      <h1 class="link"><a href="/javascript-funkines/">JavaScript funkiness</a></h1>
      <p>JavaScript is an awesome language! It is multi-paradigm and absolutely ubiquitous (available on almost every computer through the browser). As I explore JavaScript further, I find more and more oddities. While I&rsquo;m thinking about it, I thought I&rsquo;d write a few out. These gems are a combination of my experience and threads on StackOverflow.</p>

<pre> var whatDate = new Date(2012, 25, 1);
 console.log(whatDate.getFullYear());
 2014</pre>




<pre> var now = new Date();
 console.log(now.getFullYear());
 console.log(now.getYear());
 console.log(now.getDate());
 2012
 112
 12</pre>




<pre> 5 + 3
 8
 5 - -3
 8
 5 - 3
 2
 "5" - 3
 2
 "5" + 3
 "53"</pre>




<pre>var test = function()
{
  return
  {
    id: 1,
    title: "seth"
  };
}
test();
SyntaxError: Unexpected token :

var test = function() {
  return {
    id: 1,
    title: "seth"
  };
}
test();
Object</pre>




<pre>'' == '0' // false
0 == '' // true
0 == '0' // true
false == 'false' // false
false == '0' // true
false == undefined // false
false == null // false
null == undefined // true
" \t\r\n" == 0 // true</pre>




<pre>console.log(parseInt("05"))
5
console.log(parseInt("08"))
0
console.log(parseInt("010"))
8</pre>




<pre>3.toString();
SyntaxError: Unexpected token ILLEGAL
3..toString();
"3"</pre>




<pre>2 == [[[2]]]
true</pre>




<pre>parseInt("hello")
NaN
1/0
Infinity

undefined = 42;
Infinity = "beyond"
NaN = 1;
console.log(42 == undefined)
console.log("NaN (not a number) = " + NaN);
true
NaN (not a number) = 1</pre>




<pre>myHash = {"my" : "hash"}
console.log(myHash.my);
console.log(myHash["my"]);
hash
hash</pre>




<pre>var i = 0
a = new Array();
a[i++] = i
1</pre>




<pre>var dog = "rufus"
!!dog
true</pre>




<pre>var a = 1;
var func = function() {
  a = 2;
  if ( false ) {
    a = 3;
  }
}
console.log("before func() a = " + a);
func();
console.log("after func() a = " + a);
before func() a = 1
after func() a = 2

var func = function() {
  var a = 1;
}
a = 2;
console.log("before func() a = " + a);
func();
console.log("after func() a = " + a);
before func() a = 2
after func() a = 2</pre>




<pre>if ( "Seth" ) { console.log("true"); }
if ( 2+2 ) { console.log("true"); }
if ( {} ) { console.log("true"); }
true
true
true</pre>


<p><a href="http://stackoverflow.com/questions/1995113/strangest-language-feature">http://stackoverflow.com/questions/1995113/strangest-language-feature</a>
<a href="http://stackoverflow.com/questions/1724255/why-does-2-2-in-javascript">http://stackoverflow.com/questions/1724255/why-does-2-2-in-javascript</a></p>

<p>Have you encountered other gotchas or been bitten by anything else in JavaScript?</p>

      
      
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span12 post-container">
      <h1 class="link"><a href="/tell-people-how-to-do-something/">Tell people how&#8211;not just what&#8211;to do</a></h1>
      <p>Yesterday I sat through a meeting that had a lot of advice like, &ldquo;learn about X&rdquo; and &ldquo;enjoy everyday!&rdquo; These soundbites sound nice, but they&rsquo;re not particularly helpful. One of my favorite examples is someone saying, &ldquo;don&rsquo;t be dumb!&rdquo; If I am acting dumb, I may not know how to act smart! Telling a homeless person to &ldquo;get a job, Al&rdquo; won&rsquo;t help if Al doesn&rsquo;t know how to get a job in the first place.</p>

<p>In general, I think the advice can be made better by including a simple how-to. So, our original examples would transform into something like, &ldquo;learn about X by reading Y and talking to Z&rdquo; and &ldquo;enjoy everyday by doing something you love for a few minutes before work.&rdquo;</p>

<p>It is far too easy to fall into the trap of giving broad advice that most people know; I challenge you to elevate your audience (and yourself) by giving tips on how to get started with that advice.</p>

      
      
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span12 post-container">
      <h1 class="link"><a href="/sustainable-development-work-no-more-than-the-hours-you-slept/">Sustainable development: work no more than the hours you slept</a></h1>
      <p>I&rsquo;ve been mulling over an idea for sustainable development; it&rsquo;s a simple idea that would help prevent burnout caused by working long hours several days in a row. The idea: work no more than the hours you slept the previous night. For example, if you slept 4 hours, only work 4 hours the next day. If you&rsquo;ve worked with someone who is tired, you know how detrimental they can be to quality.</p>

<p>This solution doesn&rsquo;t work on the first day of long hours, and it only makes sense if work kept you up late (party people can&rsquo;t just use the work-no-more-than-you-sleep rule as an excuse).</p>

<p>In my experience, the effect is amplified as you continue sleeplessly. I imagine scientific research would agree, but I don&rsquo;t have it handy. What do you think? Would this work?</p>

      
      
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span12 post-container">
      <h1 class="link"><a href="/what-do-you-read-an-interview-question-i-liked/">&#8220;What do you read?&#8221; An interview question I liked</a></h1>
      <p>Last year I interviewed several places and saw several different styles.</p>

<p>One question that I thought was subtle yet effective was, &ldquo;what do you read?&rdquo; I think you can learn a lot about a person based on this question. Personally, I read a ton online but few printed words, so my answer would be very different than a friend of mine who reads tons of fiction plus scholarly papers (very few blogs or general news). Most companies probably don&rsquo;t want to hire someone that reads all day&ndash;you have to get work done sometime&ndash;but someone that stays up-to-date on industry news may perform better as an advisor and someone that reads a wide variety of books may be a good manager.</p>

<p>I felt very at ease asking the question, which is good for both the interviewee and the interviewer. I think we should find out as much as possible about both sides, as comfortably as possible.</p>

<p>So, what do you read?</p>

      
      
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span12 post-container">
      <h1 class="link"><a href="/a-restful-smart-home/">A RESTful smart home</a></h1>
      <p>(I found this in my drafts and thought, &ldquo;have I really not posted about my PhD research before?&rdquo; Well, here it is now. Feel free to ask if something is unclear.)</p>

<p>My PhD research was on smart homes (aware homes or intelligent environments). I think of smart homes as <a title="Wikipedia: Even-based Programming" href="http://en.wikipedia.org/wiki/Event-based_programming" target="_blank">event-based</a> systems where <a title="Wikipedia: sensor" href="http://en.wikipedia.org/wiki/Sensor">sensors</a> provide inputs that trigger actions performed by <a title="Wikipedia: actuator" href="http://en.wikipedia.org/wiki/Actuator" target="_blank">actuators</a>. I believe that centralizing the logic creates a direct path forward, which functionally means that individual buildings would have a central server. To this end, I created a smart home server that would accept sensor inputs and create outputs for actuators using a RESTful Web-of-Things style API that should be easy for future devices to conform to (we termed this piece <a title="Sensor Enablement for Average Programmers" href="http://mpc.ece.utexas.edu/SEAP/">SEAP</a>). Users can create their own rules using an interface that we prototyped and tested&ndash;it was usable according to our user studies (we termed the complete system <a title="Sensor Enablement for End-Users" href="http://mpc.ece.utexas.edu/SEEU/">SEEU</a>). All of this is available on <a title="GitHub: Seth Holloway - SEEU" href="https://github.com/smholloway/seeu">GitHub</a>.</p>

<p>To implement the server, I used <a title="Ruby on Rails" href="http://rubyonrails.org/" target="_blank">Ruby on Rails 3</a> and <a title="Ruby" href="http://www.ruby-lang.org/en/" target="_blank">Ruby 1.9.2</a> with <a title="jQuery" href="http://jquery.com/" target="_blank">jQuery</a> to speed and simplify JavaScript work. These technologies are fantastic! Devices (sensors and actuators) are modeled using <a title="Wikipedia: Sun SPOT" href="http://en.wikipedia.org/wiki/Sun_SPOT" target="_blank">Sun SPOT</a>s running the <a title="Wikipedia: Squawk VM" href="http://en.wikipedia.org/wiki/Squawk_virtual_machine" target="_blank">Squawk virtual machine</a> (<a title="Wikipedia: Java ME" href="http://en.wikipedia.org/wiki/Java_ME" target="_blank">Java ME</a>, equivalent to ~JRE 1.3). Using our <a title="Sensor Enablement for the Average Programmer" href="http://mpc.ece.utexas.edu/SEAP/" target="_blank">SEAP middleware</a>, sensors <a title="Wikipedia: REST" href="http://en.wikipedia.org/wiki/Representational_State_Transfer" target="_blank">REST</a>fully <a title="Wikipedia: HTTP POST" href="http://en.wikipedia.org/wiki/POST_(HTTP)" target="_blank">POST</a> their values and actuators <a title="Wikipedia: HTTP GET" href="http://en.wikipedia.org/wiki/GET_(HTTP)" target="_blank">GET</a> their state.</p>

<p>And now to the fun part, the rules processing engine. I could not find a rule processing engine in open source projects nor gems/plugins; even the academic research was scarce. So, I developed my own. Rules encode actions triggered by conditions. As I see it, there are two ways to run rules: reactively or periodically. If the rules are run periodically, they are easier to control (e.g., this will run once every minute) but they lose the on-demand factor that people would expect from a lot of operations in a house. Imagine walking into your house with a guarantee that lights will turn on within one minute. No thanks! This would work for something like turning on outside lights in the evening: the front porch lights coming on within one minute of sunset is acceptable. I prefer the more direct approach: reactive rules. The tradeoff here is that rules may run once a second or they may never run. My research prototype ran rules whenever sensor inputs were received, however, I think a periodic component would be useful to guarantee rules were executed.</p>

<p>How often the rules run directly affects your application&rsquo;s performance. I believe rules will be run very frequently, so I chose to store the rules directly (as opposed to storing fragments). This is fast and clear, but it is dangerous because the rules could be malformed and you open yourself to risks of crashing the system or deleting the database (if someone injected malicious code into a rule). There are standard protections against these problems like escaping inputs, employing model checkers, and wrapping execution in try/catch/rescue (or whatever method your language offers). The system had acceptable performance and I fixed any bugs I found with light penetration testing, so I am pleased overall.</p>

<p>Here&rsquo;s a simple grammar for rules given a single sensor and a single actuator:</p>

<pre><code>R = CA
C = &amp;lt;sensor&amp;gt; &amp;lt;operator&amp;gt; &amp;lt;value&amp;gt; ... (or conditions logically joined/ANDed together)
A = &amp;lt;actuator&amp;gt; &amp;lt;value&amp;gt; ... (or actions logically joined/ANDed together)
</code></pre>

<p>We derived this grammar by analyzing over 60 rules written by <a title="Seth Holloway: smart home survey" href="http://sethholloway.com/blog/2009/07/30/smart-home-user-study/" target="_blank">survey</a> participants who almost entirely constructed rules in the form of <code>&amp;lt;if&amp;gt;&amp;lt;condition(s)&amp;gt;&amp;lt;then&amp;gt;&amp;lt;action(s)&amp;gt;</code>. This was translated to a user interface after a paper prototype test; the best interface determined by user testing was then implemented as the front-end for creating rules in the smart home.</p>

<p>Future work could include more in the grammar, including ranges of values or times. To prevent system failure, a model checker could be employed to ensure that no rules collide. You could potentially optimize the process by synthesizing all simple rules into more complex, correct rules.</p>

<p>Other technical details:</p>

<ul>
<li>I&rsquo;ve worked in Microsoft Windows XP, Ubuntu, and Mac OS X, with a heavy slant towards Mac OS X.</li>
<li><a title="Heroku" href="http://heroku.com/" target="_blank">Heroku</a> makes deployment easy and <a title="Git" href="http://git-scm.com/" target="_blank">git</a> plus <a title="Dropbox" href="https://www.dropbox.com/home" target="_blank">Dropbox</a> work beautifully for version control and backups.</li>
<li>I developed using text several editors and IDEs including Eclipse, NetBeans, TextEdit, Notepad, TextMate, and Vim.</li>
<li>Client-side testing was done using Chrome, Safari, Firefox, and Internet Explorer (sorry Opera!).</li>
<li>Code is available <a title="Github: SEEU" href="https://github.com/smholloway/SEEU" target="_blank">here</a>.</li>
</ul>


      
      
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span12 post-container">
      <h1 class="link"><a href="/a-few-java-tricks-to-myself/">A few Java tricks to myself</a></h1>
      <hr />

<pre><code>if ( foo.equals("bar") ) { // ... }
</code></pre>

<p>Here, foo may be null, so instead use</p>

<pre><code>if ( "bar".equals(foo) ) { // ... }
</code></pre>

<p>This pattern generalizes to using the equals method of the concrete object (put the non-null object on the left side).</p>

<hr />

<p>You can use instanceof to ensure an object is the proper type (this can replace a null check), as in</p>

<pre><code>if ( arg1 instanceof String ) { // ... }
</code></pre>

<hr />

<p>As of Java 1.5 you can declare methods with variable arity, making the syntax a little cleaner and invocation a bit simpler. The old style:</p>

<pre><code>public static void main(String[] args)
</code></pre>

<p>becomes</p>

<pre><code>public static void main(String... args)
</code></pre>

<p>which can then be called like this:</p>

<pre><code>main("seth", "for", "president")
</code></pre>

<hr />

<p>Errors and Exceptions derive from Throwable, so you can catch all program hiccups by catching Throwable instead of Exception (or Error).</p>

<hr />

<p>Local variables are not initialized with a value; field variables are initialized like so:</p>

<p>Number primitives default to 0.</p>

<p>Objects (Collections) default to null.</p>

<p>Booleans default to false.</p>

<hr />

<p>Java has labels, but most people will not appreciate their inclusion and use. For example, the following code is valid Java</p>

<pre><code>http://www.sethholloway.com
</code></pre>

<hr />

<p>In mixed-type computation, Java upconverts to the larger data type due to widening primitive conversion. Avoid mixed-type computation and comparisons.</p>

<hr />

<p>&ldquo;Although common, the idiom <code>object.getClass().getMethod("methodName")</code> is broken and should not be used.&rdquo; &ndash; <a title="Java Puzzlers sampler" href="http://javapuzzlers.com/java-puzzlers-sampler.pdf">Java Puzzlers sample</a></p>

<hr />

<p>The finally block of a try-catch-finally will always execute (unless there&rsquo;s a hard crash, System.exit(), System.halt(), or infinite loop before). As such, be careful with returns and mutating objects in the try and finally.</p>

<hr />

      
      
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span12 post-container">
      <h1 class="link"><a href="/choosing-the-right-library-for-your-java-project/">Choosing the right library for your Java project</a></h1>
      <p>Software libraries can tremendously help software development. At best, the libraries are well tested pieces of functionality that integrate easily into your project and prevent you from re-inventing the wheel. On the negative side, third-party libraries could add to your costs or prevent your company from being sold, they could be confusing and poorly documented, or they could work unexpectedly. I&rsquo;ve used a number of libraries in the past (Ruby and Ruby on Rails push libraries heavily; in Java I like jsoup and log4j), but I was curious how pros chose so I asked around and searched a bit.</p>

<p>You can read the <a title="Reddit: Handy Java Libraries" href="http://www.reddit.com/r/java/comments/kis7l/handy_java_libraries_you_use">Reddit take on handy Java libraries</a>.</p>

<p>And here&rsquo;s advice from Lane:</p>

<blockquote>I&#8217;d focus on these:

Normal coding
Apache Commons: <a href="http://commons.apache.org/" target="_blank">http://commons.apache.org/</a>
Guava: <a href="http://code.google.com/p/guava-libraries/" target="_blank">http://code.google.com/p/<wbr>guava-libraries/</wbr></a>
Jackson JSON parser: <a href="http://jackson.codehaus.org/" target="_blank">http://jackson.codehaus.org/</a>
Spring: <a href="http://www.springsource.org/" target="_blank">http://www.springsource.org/</a>
ActiveMQ

Unit Testing:
jUnit4
Hamcrest matchers
Mockito (I absolutely dislike mocking tho)

When it comes to libraries try to find ones that have a lot of current activity.

The best code is the code you don&#8217;t have to write.  So I try to write
as little as possible.</blockquote>


<p>And Drew:</p>

<blockquote>
<div>Here are a couple considerations off the top of my head, but by no means are these exhaustive nor complete&#8230;</div>
<div>Quick summary - Choosing to use a library should be economics driven.  Look at ROI.  Yes, for an engineer, the excitement of using the newest cool tool is a positive return, but only one of many 10&#8217;s of terms in the equation&#8230; and probably not one of the larger terms.</div>
<div>0) Documentation - Any library (or application) worth your time should have decent documentation.  It&#8217;s hard to recognize good documentation for new engineers, so beware things recommends by &#8220;kids&#8221;.  There are basically two camps on the documentation side&#8230; the big book (e.g. maven) and the mailing list (e.g. guava).  The big book is pretty obvious.  Guava&#8217;s documentation is a collection of power-point presentations and a very active tag on stack-overflow.  Personally, I prefer Guava&#8217;s documentation over the big-book style.</div>
<div>1) Maturity of library - Steer clear of anything that is a prototype, a &#8220;place to test advanced features&#8221;, etc.  It&#8217;s not worth your time to rewrite your code when the api changes.</div>
<div>2) Maturity of release - Steer clear of anything X.0.0.  It&#8217;s broken and you&#8217;ll have to upgrade soon&#8230; another time suck.  Given the choice between 3.5.2 and 4.0.0, always go with 3.x.</div>
<div>3) Client list - You&#8217;re looking for things that are used by other big projects.  slf4j does a good job of this&#8230; it&#8217;s a mid-aged library but they have a impressive list of projects that use the library right on the home page.  This is a good sign.</div>
<div>4) Consider proprietary libraries - Sometimes it makes a lot of sense to just buy it.  The price for these libraries is always stunning, but you need to consider ROI, not cost.  Your ROI calculation needs to include design, implementation, maintenance, time-to-market, and how pissed your customer will be if you got something wrong.  Odds are very good that a proprietary library has already gotten that thing wrong and is amortizing the cost.</div>
<div>Plus, it&#8217;s nice to have someone to call that has to answer your question.  No one has to answer your guava question (and there are a number of unanswered questions on SO).  I may sound strange, but it&#8217;s fantastic to get a reply from a vendor in a hour that says &#8220;I understand your question, but we don&#8217;t do that right now.&#8221;  You can then move on and never second guess that decision.</div>
<div>5) Legal - Never use anything that is GPL or LGPL only.  Apache, CDDL, BSD, and others are ok.  Most decent libraries are dual licensed.  Figure out which licenses are &#8216;ok&#8217; for yourself, don&#8217;t take my word for it.  Here&#8217;s the reason&#8230; at some point you might want to sell your idea/company to someone else.  If you have GPL libraries in your code base, it&#8217;s gonna cost you real money when you sell, and real time when you have to extract it after the sale.  I know you can use a GPL library and be safe&#8230; but it&#8217;s just too scary for people who might want to buy you later.  Now that&#8217;s not to say you can&#8217;t use GPL libraries to build your product.  We all have one or two GPL tools that we use&#8230; but they don&#8217;t get rolled into the final product (e.g. findbugs).</div>
<div>6) Generics - A sub-item for maturity probably, but a specific item to watch for.  If a library doesn&#8217;t use generics at all, it&#8217;s a red flag.  There are cases where it doesn&#8217;t make sense to accept types from the application, so the library doesn&#8217;t need generics&#8230; but this is pretty rare.  I would expect that a library would return at least one collection&#8230; and if that collection is untyped, it&#8217;s a flag that something is up.  (It could be backwards compatibility, unmaintained code, or authors that don&#8217;t &#8220;get it&#8221;, or something else)</div>
<div>7) Standards - Not so much.  I used to look for libraries that conformed to standards.  I don&#8217;t find that to be a big deal anymore.  If a library is worth its salt, it&#8217;s documented either via some standard or by itself.  (Tomcat and Jetty conform to standards wich is great.  Guava is non-standard, but I don&#8217;t care).</div>
<div>8) Beware libraries that have lots of dependencies.  Sometimes it&#8217;s unavoidable, but try to avoid them if possible.  They make the final product bigger (not a huge deal), they need more updates (again, you can avoid this most of the time), but the big one is library clashing. You don&#8217;t want to include a nice stable library X.jar that depends on a library Y.jar in 2010, then find out that you really would like to use the newest version of Y.jar directly, but it&#8217;s got a new API.  You may be able to upgrade X.jar to use the new Y.jar, but you&#8217;ll also be upgrading all the other libraries it depends on too.  Basically, library dependencies are not a tree, they&#8217;re a directed graph (acyclic if you&#8217;re lucky).  The bigger and more connected that graph is, the more problems that it can cause in the build system.</div>
<div>Summary) Basically, you should always be looking at ROI.  There&#8217;s just no way to compute the actual ROI, so you have to use your experience to make an approximation.  If two or three choices are about the same, then try to make a case for one of them in an email to yourself (or your boss).  See how easy it is to write up an argument to convince someone else.</div></blockquote>


<p>Who replied later with more information:</p>

<blockquote>
<div>I thought about it a little more today, and if I was going to write up a real article for the web, I might propose a ROI formula with a half-dozen terms&#8230; then describe how to evaluate a library for each term.  If I was lucky, I could pick terms that were really independent of each other.</div>
<div>Something like &#8220;cost to design + cost to build + cost to maintain &gt;? dollar cost for license + cost to integrate + (prob. of update)*(cost to apply update) + &#8230;&#8221;</div></blockquote>


<p>Excellent advice! Thanks to Drew and Lane!</p>

<p>I&rsquo;m interested in other opinions. How do you choose a library? Which do you use most frequently? Have any horror stories derived from code reuse?</p>

      
      
    </div>
  </div>



    </article>
    
  
  <div class="pagination">
    
    <a class="prev" href="/blog/page/10/">&larr; Older</a>
    

    
    <a class="next" href="/blog/page/8/">Newer &rarr;</a>
    
  </div>
</div>


        </div>
      </div>
      <div class="row-fluid">
        <footer class="footer-page" role="contentinfo">
          <p>
  Copyright &copy; 2008 - 2021 by Seth Holloway
</p>


        </footer>
      </div>
  </div>
  



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'https://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
